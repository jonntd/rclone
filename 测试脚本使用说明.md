# rclone 115/123ç½‘ç›˜æµ‹è¯•è„šæœ¬ä½¿ç”¨è¯´æ˜Ž

## ðŸ“‹ æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«äº†å®Œæ•´çš„rclone 115ç½‘ç›˜å’Œ123ç½‘ç›˜åŒå‘ä¼ è¾“æµ‹è¯•å·¥å…·é›†ï¼Œç”¨äºŽéªŒè¯ç§’ä¼ åŠŸèƒ½ã€æ€§èƒ½åŸºå‡†æµ‹è¯•å’Œæ•…éšœæŽ’é™¤ã€‚

## ðŸ“ æ–‡ä»¶æ¸…å•

| æ–‡ä»¶å | ç±»åž‹ | ç”¨é€” | æ‰§è¡Œæ—¶é—´ |
|--------|------|------|----------|
| `rclone_115_123_åŒå‘ä¼ è¾“æµ‹è¯•æ–‡æ¡£.md` | æ–‡æ¡£ | è¯¦ç»†æµ‹è¯•æ–‡æ¡£å’Œé…ç½®æŒ‡å— | - |
| `test_115_123_bidirectional.sh` | è„šæœ¬ | å®Œæ•´çš„åŒå‘ä¼ è¾“æµ‹è¯•å¥—ä»¶ | 10-15åˆ†é’Ÿ |
| `quick_test_instant_upload.sh` | è„šæœ¬ | å¿«é€Ÿç§’ä¼ åŠŸèƒ½éªŒè¯ | 2-3åˆ†é’Ÿ |
| `æµ‹è¯•è„šæœ¬ä½¿ç”¨è¯´æ˜Ž.md` | æ–‡æ¡£ | æœ¬ä½¿ç”¨è¯´æ˜Žæ–‡æ¡£ | - |

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. çŽ¯å¢ƒå‡†å¤‡

ç¡®ä¿ä»¥ä¸‹æ¡ä»¶æ»¡è¶³ï¼š

```bash
# æ£€æŸ¥rcloneå¯æ‰§è¡Œæ–‡ä»¶
ls -la ./rclone_115_instant

# æ£€æŸ¥ç½‘ç›˜é…ç½®
./rclone_115_instant config show | grep -E "\[115\]|\[123\]"

# æ£€æŸ¥æµ‹è¯•æ–‡ä»¶æ˜¯å¦å­˜åœ¨
./rclone_115_instant ls 123:test1/ | grep test_50mb_new.bin
./rclone_115_instant ls 123:test_instant_transfer/ | grep test_medium_file.bin
```

### 2. å¿«é€ŸéªŒè¯ç§’ä¼ åŠŸèƒ½

**æŽ¨èé¦–æ¬¡ä½¿ç”¨**ï¼š

```bash
# å¿«é€Ÿæµ‹è¯•ï¼ˆ2-3åˆ†é’Ÿï¼‰
./quick_test_instant_upload.sh

# ä»…æ£€æŸ¥çŽ¯å¢ƒ
./quick_test_instant_upload.sh --check-only

# æŸ¥çœ‹å¸®åŠ©
./quick_test_instant_upload.sh --help
```

**é¢„æœŸè¾“å‡ºç¤ºä¾‹**ï¼š
```
=== rclone 115/123ç½‘ç›˜ç§’ä¼ åŠŸèƒ½å¿«é€Ÿæµ‹è¯• ===

=== çŽ¯å¢ƒæ£€æŸ¥ ===
âœ… rcloneå¯æ‰§è¡Œæ–‡ä»¶æ£€æŸ¥é€šè¿‡
âœ… ç½‘ç›˜é…ç½®æ£€æŸ¥é€šè¿‡

=== æµ‹è¯•1: 123â†’115 å°æ–‡ä»¶ç§’ä¼  ===
ðŸ“‹ æµ‹è¯•: 123â†’115 (50MB)
âœ… 123â†’115 (50MB) - ç§’ä¼ æˆåŠŸ (11ç§’)
  âœ… ç¬¦åˆé¢„æœŸï¼šè§¦å‘ç§’ä¼ 
  ðŸ“Š ä¼ è¾“é€Ÿåº¦: 4.545 MiB/s

=== æµ‹è¯•ç»“æžœç»Ÿè®¡ ===
æ€»æµ‹è¯•æ•°: 4
æˆåŠŸæµ‹è¯•: 4
å¤±è´¥æµ‹è¯•: 0
æˆåŠŸçŽ‡: 100%

âœ… ðŸŽ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼åŒå‘ç§’ä¼ åŠŸèƒ½æ­£å¸¸å·¥ä½œ
```

### 3. å®Œæ•´æµ‹è¯•å¥—ä»¶

**ç”¨äºŽè¯¦ç»†éªŒè¯å’Œæ€§èƒ½æµ‹è¯•**ï¼š

```bash
# å®Œæ•´æµ‹è¯•ï¼ˆ10-15åˆ†é’Ÿï¼‰
./test_115_123_bidirectional.sh

# å¹²è¿è¡Œæ¨¡å¼ï¼ˆæŸ¥çœ‹å°†è¦æ‰§è¡Œçš„æµ‹è¯•ï¼‰
./test_115_123_bidirectional.sh --dry-run

# æŸ¥çœ‹å¸®åŠ©
./test_115_123_bidirectional.sh --help
```

## âš™ï¸ é…ç½®é€‰é¡¹

### çŽ¯å¢ƒå˜é‡

```bash
# è‡ªå®šä¹‰rcloneå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„
export RCLONE_BIN="/path/to/your/rclone"

# è‡ªå®šä¹‰æ—¥å¿—ç›®å½•
export LOG_DIR="/custom/log/directory"

# æ‰§è¡Œæµ‹è¯•
./test_115_123_bidirectional.sh
```

### æµ‹è¯•æ–‡ä»¶é…ç½®

ç¼–è¾‘è„šæœ¬ä¸­çš„æµ‹è¯•æ–‡ä»¶é…ç½®ï¼š

```bash
# åœ¨ test_115_123_bidirectional.sh ä¸­ä¿®æ”¹
declare -a TEST_FILES=(
    "small:test1/your_small_file.bin:50MB"
    "medium:test1/your_medium_file.bin:200MB"
    "large:test1/your_large_file.bin:1GB"
)
```

## ðŸ“Š æµ‹è¯•ç»“æžœè§£è¯»

### å¿«é€Ÿæµ‹è¯•ç»“æžœ

```bash
# æˆåŠŸçš„ç§’ä¼ æµ‹è¯•
âœ… 123â†’115 (50MB) - ç§’ä¼ æˆåŠŸ (11ç§’)
  âœ… ç¬¦åˆé¢„æœŸï¼šè§¦å‘ç§’ä¼ 
  ðŸ“Š ä¼ è¾“é€Ÿåº¦: 4.545 MiB/s

# ä¼ ç»Ÿä¼ è¾“æµ‹è¯•
ðŸ“‹ 123â†’115 (16MB) - ä¼ ç»Ÿä¼ è¾“ (29ç§’)
  âœ… ç¬¦åˆé¢„æœŸï¼šä¼ ç»Ÿä¼ è¾“
  ðŸ“Š ä¼ è¾“é€Ÿåº¦: 0.567 MiB/s
```

### å®Œæ•´æµ‹è¯•æŠ¥å‘Š

å®Œæ•´æµ‹è¯•ä¼šç”Ÿæˆè¯¦ç»†çš„MarkdownæŠ¥å‘Šï¼š

```
/tmp/rclone_tests/test_results_20250706_011234.md
```

æŠ¥å‘ŠåŒ…å«ï¼š
- æµ‹è¯•çŽ¯å¢ƒä¿¡æ¯
- æ¯ä¸ªæµ‹è¯•çš„è¯¦ç»†ç»“æžœ
- æ€§èƒ½åŸºå‡†å¯¹æ¯”
- é”™è¯¯æ—¥å¿—åˆ†æž
- å»ºè®®å’Œæ€»ç»“

## ðŸ”§ æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ–‡ä»¶ä¸å­˜åœ¨é”™è¯¯
```bash
âŒ æºæ–‡ä»¶ä¸å­˜åœ¨: 123:test1/test_50mb_new.bin
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
./rclone_115_instant ls 123:test1/

# åˆ›å»ºæµ‹è¯•æ–‡ä»¶ï¼ˆå¦‚æžœéœ€è¦ï¼‰
dd if=/dev/zero of=/tmp/test_50mb.bin bs=1M count=50
./rclone_115_instant copy /tmp/test_50mb.bin 123:test1/test_50mb_new.bin
```

#### 2. ç½‘ç›˜é…ç½®é”™è¯¯
```bash
âŒ 115ç½‘ç›˜é…ç½®ä¸å­˜åœ¨
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥é…ç½®
./rclone_115_instant config show

# é‡æ–°é…ç½®ç½‘ç›˜
./rclone_115_instant config
```

#### 3. æƒé™é”™è¯¯
```bash
âŒ rcloneå¯æ‰§è¡Œæ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ‰§è¡Œæƒé™
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x ./rclone_115_instant

# æ£€æŸ¥æ–‡ä»¶
ls -la ./rclone_115_instant
```

#### 4. APIé™åˆ¶é”™è¯¯
```bash
ERROR : 429 Too Many Requests
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é™ä½Žå¹¶å‘æ•°ï¼Œå¢žåŠ å»¶è¿Ÿ
./rclone_115_instant copy SOURCE DEST \
  --transfers 2 \
  --checkers 4 \
  --pacer-min-sleep 1s
```

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†è°ƒè¯•ï¼š

```bash
# ä¿®æ”¹è„šæœ¬ä¸­çš„æ—¥å¿—çº§åˆ«
--log-level DEBUG

# æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œè°ƒè¯•å‘½ä»¤
./rclone_115_instant copy SOURCE DEST \
  --log-level DEBUG \
  --log-file /tmp/debug.log \
  --dump headers
```

## ðŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### æ ¹æ®ç½‘ç»œçŽ¯å¢ƒè°ƒæ•´å‚æ•°

#### é«˜é€Ÿç½‘ç»œ (>100Mbps)
```bash
--transfers 8 \
--checkers 16 \
--buffer-size 32M \
--multi-thread-streams 4
```

#### æ™®é€šç½‘ç»œ (10-100Mbps)
```bash
--transfers 4 \
--checkers 8 \
--buffer-size 16M \
--multi-thread-streams 2
```

#### æ…¢é€Ÿç½‘ç»œ (<10Mbps)
```bash
--transfers 2 \
--checkers 4 \
--buffer-size 8M \
--timeout 300s
```

### ç§’ä¼ åŠŸèƒ½ä¼˜åŒ–

1. **ç¡®ä¿æ–‡ä»¶å®Œæ•´æ€§**ï¼šä¼ è¾“å‰éªŒè¯æ–‡ä»¶å“ˆå¸Œ
2. **åˆç†æŽ§åˆ¶å¹¶å‘**ï¼šç§’ä¼ æ—¶ä½¿ç”¨è¾ƒä½Žå¹¶å‘é¿å…APIé™åˆ¶
3. **ç›‘æŽ§APIé…é¢**ï¼šæ³¨æ„QPSé™åˆ¶ï¼Œé€‚å½“å¢žåŠ å»¶è¿Ÿ

## ðŸ“ è‡ªå®šä¹‰æµ‹è¯•

### åˆ›å»ºè‡ªå®šä¹‰æµ‹è¯•è„šæœ¬

```bash
#!/bin/bash

# è‡ªå®šä¹‰æµ‹è¯•ç¤ºä¾‹
RCLONE_BIN="./rclone_115_instant"

# æµ‹è¯•ç‰¹å®šæ–‡ä»¶
test_specific_file() {
    local source="$1"
    local dest="$2"
    
    echo "æµ‹è¯•: $source â†’ $dest"
    
    time $RCLONE_BIN copy "$source" "$dest" \
        --progress \
        --log-level INFO \
        --stats 1s
}

# æ‰§è¡Œæµ‹è¯•
test_specific_file "123:your_path/your_file.bin" "115:test_dest/"
```

### æ‰¹é‡æµ‹è¯•è„šæœ¬

```bash
#!/bin/bash

# æ‰¹é‡æµ‹è¯•å¤šä¸ªæ–‡ä»¶
declare -a FILES=(
    "file1.bin"
    "file2.bin" 
    "file3.bin"
)

for file in "${FILES[@]}"; do
    echo "=== æµ‹è¯•æ–‡ä»¶: $file ==="
    ./rclone_115_instant copy "123:source/$file" "115:dest/" \
        --progress --log-level INFO
    sleep 2
done
```

## ðŸŽ¯ æœ€ä½³å®žè·µ

1. **æµ‹è¯•å‰å‡†å¤‡**ï¼šç¡®ä¿æµ‹è¯•æ–‡ä»¶å·²å­˜åœ¨äºŽæºç½‘ç›˜
2. **åˆ†æ­¥æµ‹è¯•**ï¼šå…ˆè¿è¡Œå¿«é€Ÿæµ‹è¯•ï¼Œå†è¿è¡Œå®Œæ•´æµ‹è¯•
3. **æ—¥å¿—ä¿å­˜**ï¼šä¿ç•™æµ‹è¯•æ—¥å¿—ç”¨äºŽé—®é¢˜æŽ’æŸ¥
4. **å®šæœŸéªŒè¯**ï¼šå®šæœŸè¿è¡Œæµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£å¸¸
5. **æ€§èƒ½ç›‘æŽ§**ï¼šå…³æ³¨ä¼ è¾“é€Ÿåº¦å’ŒæˆåŠŸçŽ‡å˜åŒ–

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **é”™è¯¯ä¿¡æ¯**ï¼šå®Œæ•´çš„é”™è¯¯æ—¥å¿—
2. **çŽ¯å¢ƒä¿¡æ¯**ï¼šæ“ä½œç³»ç»Ÿã€rcloneç‰ˆæœ¬
3. **æµ‹è¯•é…ç½®**ï¼šä½¿ç”¨çš„å‚æ•°å’Œé…ç½®
4. **ç½‘ç»œçŽ¯å¢ƒ**ï¼šå¸¦å®½ã€ç¨³å®šæ€§æƒ…å†µ

---

*æ–‡æ¡£ç‰ˆæœ¬: v1.0*  
*æœ€åŽæ›´æ–°: 2025-07-06*
