# ğŸ§¹ Linux VPS ç£ç›˜æ¸…ç†å®Œæ•´æŒ‡å—

## ğŸ“‹ å¿«é€Ÿå¼€å§‹

### 1. ä¸Šä¼ è„šæœ¬åˆ°VPS
```bash
# æ–¹æ³•1: ä½¿ç”¨wgetä¸‹è½½ï¼ˆå¦‚æœè„šæœ¬åœ¨ç½‘ä¸Šï¼‰
# wget https://your-server.com/linux_disk_cleanup.sh

# æ–¹æ³•2: ä½¿ç”¨scpä¸Šä¼ 
# scp linux_disk_cleanup.sh user@your-vps-ip:/home/user/

# æ–¹æ³•3: ç›´æ¥åœ¨VPSä¸Šåˆ›å»ºæ–‡ä»¶
nano linux_disk_cleanup.sh
# ç„¶åå¤åˆ¶ç²˜è´´è„šæœ¬å†…å®¹
```

### 2. ç»™è„šæœ¬æ‰§è¡Œæƒé™
```bash
chmod +x linux_disk_cleanup.sh
chmod +x quick_linux_cleanup.sh
```

### 3. è¿è¡Œæ¸…ç†è„šæœ¬
```bash
# å¿«é€Ÿæ¸…ç†ï¼ˆæ¨èæ–°æ‰‹ï¼‰
sudo ./quick_linux_cleanup.sh

# è¯¦ç»†æ¸…ç†ï¼ˆå¯é€‰æ‹©æ¸…ç†é¡¹ç›®ï¼‰
sudo ./linux_disk_cleanup.sh
```

## ğŸ¯ æ¸…ç†è„šæœ¬åŠŸèƒ½

### å¿«é€Ÿæ¸…ç†è„šæœ¬ (`quick_linux_cleanup.sh`)
- âœ… **ä¸€é”®æ¸…ç†**ï¼Œæ— éœ€ç”¨æˆ·äº¤äº’
- âœ… æ¸…ç†åŒ…ç®¡ç†å™¨ç¼“å­˜
- âœ… æ¸…ç†ç³»ç»Ÿæ—¥å¿—ï¼ˆä¿ç•™7å¤©ï¼‰
- âœ… æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- âœ… æ¸…ç†ç”¨æˆ·ç¼“å­˜
- âœ… æ¸…ç†Dockerèµ„æºï¼ˆå¦‚æœå®‰è£…ï¼‰
- âœ… æ¸…ç†ç¼©ç•¥å›¾ç¼“å­˜

### è¯¦ç»†æ¸…ç†è„šæœ¬ (`linux_disk_cleanup.sh`)
- ğŸ” **äº¤äº’å¼æ¸…ç†**ï¼Œç”¨æˆ·å¯é€‰æ‹©æ¸…ç†é¡¹ç›®
- ğŸ“Š æ˜¾ç¤ºè¯¦ç»†çš„ç©ºé—´å ç”¨ä¿¡æ¯
- ğŸ—‚ï¸ æŸ¥æ‰¾å¤§æ–‡ä»¶
- ğŸ³ Dockeræ·±åº¦æ¸…ç†
- ğŸ”§ æ¸…ç†æ—§å†…æ ¸
- ğŸ“ˆ æ˜¾ç¤ºæ¸…ç†å‰åå¯¹æ¯”

## ğŸš¨ ç´§æ€¥æ¸…ç†å‘½ä»¤

å¦‚æœç£ç›˜ç©ºé—´ä¸¥é‡ä¸è¶³ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œè¿™äº›å‘½ä»¤ï¼š

```bash
# 1. æ¸…ç†åŒ…ç¼“å­˜
sudo apt-get clean && sudo apt-get autoclean

# 2. æ¸…ç†æ—¥å¿—
sudo journalctl --vacuum-time=3d

# 3. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
sudo rm -rf /tmp/* /var/tmp/*

# 4. æ¸…ç†ç”¨æˆ·ç¼“å­˜
rm -rf ~/.cache/*

# 5. æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
df -h
du -h --max-depth=1 / | sort -hr | head -10
```

## ğŸ“Š å¸¸è§å ç”¨ç©ºé—´çš„ç›®å½•

### ç³»ç»Ÿç›®å½•
- `/var/log/` - ç³»ç»Ÿæ—¥å¿—
- `/var/cache/` - ç³»ç»Ÿç¼“å­˜
- `/tmp/` - ä¸´æ—¶æ–‡ä»¶
- `/var/tmp/` - ç³»ç»Ÿä¸´æ—¶æ–‡ä»¶

### ç”¨æˆ·ç›®å½•
- `~/.cache/` - ç”¨æˆ·ç¼“å­˜
- `~/.local/share/Trash/` - å›æ”¶ç«™
- `~/Downloads/` - ä¸‹è½½æ–‡ä»¶

### åº”ç”¨ç›¸å…³
- `/var/lib/docker/` - Dockeræ•°æ®
- `/var/lib/mysql/` - MySQLæ•°æ®
- `/var/www/` - Webæ–‡ä»¶

## ğŸ”§ æ‰‹åŠ¨æ¸…ç†å¤§æ–‡ä»¶

### æŸ¥æ‰¾å¤§æ–‡ä»¶
```bash
# æŸ¥æ‰¾å¤§äº100MBçš„æ–‡ä»¶
find / -type f -size +100M -exec ls -lh {} \; 2>/dev/null

# æŸ¥çœ‹ç›®å½•å¤§å°æ’åº
du -h --max-depth=1 / 2>/dev/null | sort -hr

# æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æœ€å¤§çš„æ–‡ä»¶
ls -lhS
```

### å®‰å…¨åˆ é™¤æ–‡ä»¶
```bash
# åˆ é™¤å‰å…ˆæŸ¥çœ‹æ–‡ä»¶å†…å®¹
file /path/to/large-file
head /path/to/large-file

# ç¡®è®¤ååˆ é™¤
rm /path/to/large-file
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### ä¸è¦åˆ é™¤çš„é‡è¦æ–‡ä»¶/ç›®å½•
- `/etc/` - ç³»ç»Ÿé…ç½®
- `/boot/` - å¯åŠ¨æ–‡ä»¶
- `/usr/` - ç³»ç»Ÿç¨‹åº
- `/lib/` - ç³»ç»Ÿåº“
- `/bin/`, `/sbin/` - ç³»ç»Ÿå‘½ä»¤

### å®‰å…¨æ¸…ç†åŸåˆ™
1. **å…ˆå¤‡ä»½é‡è¦æ•°æ®**
2. **äº†è§£æ–‡ä»¶ç”¨é€”å†åˆ é™¤**
3. **ä½¿ç”¨è„šæœ¬è‡ªåŠ¨æ¸…ç†å¸¸è§åƒåœ¾**
4. **å®šæœŸæ¸…ç†ï¼Œé¿å…ç§¯ç´¯**

## ğŸ”„ å®šæœŸç»´æŠ¤

### è®¾ç½®å®šæ—¶æ¸…ç†
```bash
# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ æ¯å‘¨æ¸…ç†ä»»åŠ¡
0 2 * * 0 /path/to/quick_linux_cleanup.sh
```

### ç›‘æ§ç£ç›˜ä½¿ç”¨
```bash
# æ·»åŠ ç£ç›˜ç›‘æ§è„šæœ¬
echo 'df -h | grep -E "(Filesystem|/dev/)" | grep -v tmpfs' >> ~/.bashrc
```

## ğŸ†˜ ç´§æ€¥æƒ…å†µå¤„ç†

### ç£ç›˜100%æ»¡çš„æƒ…å†µ
```bash
# 1. ç«‹å³æ¸…ç†æœ€å¤§çš„æ—¥å¿—æ–‡ä»¶
sudo truncate -s 0 /var/log/syslog
sudo truncate -s 0 /var/log/kern.log

# 2. æ¸…ç†journalæ—¥å¿—
sudo journalctl --vacuum-size=100M

# 3. æ¸…ç†åŒ…ç¼“å­˜
sudo apt-get clean

# 4. é‡å¯æœåŠ¡é‡Šæ”¾æ–‡ä»¶å¥æŸ„
sudo systemctl restart rsyslog
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹è„šæœ¬è¿è¡Œæ—¥å¿—
2. æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š`df -h`
3. æŸ¥çœ‹æœ€å¤§æ–‡ä»¶ï¼š`du -h --max-depth=1 / | sort -hr`
4. è”ç³»ç³»ç»Ÿç®¡ç†å‘˜æˆ–VPSæä¾›å•†

---

**è®°ä½ï¼šå®šæœŸæ¸…ç†æ¯”ç´§æ€¥æ¸…ç†æ›´å®‰å…¨æœ‰æ•ˆï¼**
