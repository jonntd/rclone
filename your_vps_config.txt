ğŸ”¥ ä½ çš„VPSä¸“ç”¨115ç½‘ç›˜é…ç½®ï¼ˆ500MBå†…å­˜+5GBç¡¬ç›˜ï¼‰

===============================================
ç›´æ¥å¤åˆ¶ä½¿ç”¨çš„å‘½ä»¤ï¼š
===============================================

ğŸ¯ åŸºç¡€ä¸Šä¼ å‘½ä»¤ï¼ˆæ¨èï¼‰ï¼š
rclone copy "ä½ çš„æ–‡ä»¶" 115:ç›®æ ‡æ–‡ä»¶å¤¹/ --buffer-size=4M --max-buffer-memory=32M --transfers=1 --checkers=1 -v

ğŸ¯ åå°ä¸Šä¼ å‘½ä»¤ï¼ˆVPSæ¨èï¼‰ï¼š
nohup rclone copy "ä½ çš„æ–‡ä»¶" 115:ç›®æ ‡æ–‡ä»¶å¤¹/ --buffer-size=4M --max-buffer-memory=32M --transfers=1 --checkers=1 --log-file=upload.log -v > upload_output.log 2>&1 &

ğŸ¯ åŒæ­¥æ–‡ä»¶å¤¹å‘½ä»¤ï¼š
rclone sync "æœ¬åœ°æ–‡ä»¶å¤¹" 115:äº‘ç«¯æ–‡ä»¶å¤¹/ --buffer-size=4M --max-buffer-memory=32M --transfers=1 --checkers=1 -v

===============================================
å‚æ•°è§£é‡Šï¼š
===============================================

--buffer-size=4M          æ¯æ¬¡è¯»å–4MBæ•°æ®ï¼ˆå¾ˆå°ï¼Œçœå†…å­˜ï¼‰
--max-buffer-memory=32M    æœ€å¤šç”¨32MBå†…å­˜ï¼ˆä½ 500MBå†…å­˜çš„6%ï¼‰
--transfers=1              ä¸€æ¬¡åªä¼ 1ä¸ªæ–‡ä»¶ï¼ˆé¿å…å†…å­˜ä¸å¤Ÿï¼‰
--checkers=1               åªç”¨1ä¸ªçº¿ç¨‹æ£€æŸ¥æ–‡ä»¶ï¼ˆçœCPUå’Œå†…å­˜ï¼‰
-v                         æ˜¾ç¤ºè¯¦ç»†è¿›åº¦

===============================================
âŒ è¿™äº›å‚æ•°å¯¹115ç½‘ç›˜æ— æ•ˆï¼ˆä¸è¦ç”¨ï¼‰ï¼š
===============================================

--multi-thread-cutoff=200M     # 115ä¸æ”¯æŒå¤šçº¿ç¨‹ä¸Šä¼ 
--multi-thread-streams=4        # 115ä¸æ”¯æŒå¤šçº¿ç¨‹ä¸Šä¼ 

åŸå› ï¼š115ç½‘ç›˜ä½¿ç”¨å•çº¿ç¨‹åˆ†ç‰‡ä¸Šä¼ ï¼Œä¸æ”¯æŒrcloneçš„å¤šçº¿ç¨‹åŠŸèƒ½

===============================================
VPSå®ç”¨æŠ€å·§ï¼š
===============================================

ğŸ“Š ç›‘æ§å†…å­˜ä½¿ç”¨ï¼š
free -h

ğŸ“Š ç›‘æ§ä¸Šä¼ è¿›åº¦ï¼š
tail -f upload.log

ğŸ“Š æŸ¥çœ‹åå°ä»»åŠ¡ï¼š
jobs
ps aux | grep rclone

ğŸ“Š åœæ­¢åå°ä¸Šä¼ ï¼š
pkill rclone

ğŸ“Š åˆ›å»ºä¸´æ—¶swapï¼ˆå†…å­˜ä¸å¤Ÿæ—¶ï¼‰ï¼š
sudo fallocate -l 512M /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

===============================================
é…ç½®æ–‡ä»¶æ–¹å¼ï¼ˆå¯é€‰ï¼‰ï¼š
===============================================

åˆ›å»º ~/.config/rclone/rclone.confï¼š

[115]
type = 115
# ... ä½ çš„115ç½‘ç›˜ç™»å½•ä¿¡æ¯ ...

# VPSè¶…ä½é…ä¼˜åŒ–
buffer_size = 4M
max_buffer_memory = 32M
transfers = 1
checkers = 1

===============================================
å¸¸è§é—®é¢˜è§£å†³ï¼š
===============================================

â“ å†…å­˜ä¸å¤Ÿï¼Ÿ
â†’ å‡å°‘buffer-sizeåˆ°2Mï¼š--buffer-size=2M --max-buffer-memory=16M

â“ ä¸Šä¼ å¾ˆæ…¢ï¼Ÿ
â†’ æ£€æŸ¥ç½‘ç»œï¼šping 115.com
â†’ å¢åŠ é‡è¯•ï¼š--retries=5

â“ è¿æ¥è¶…æ—¶ï¼Ÿ
â†’ å¢åŠ è¶…æ—¶æ—¶é—´ï¼š--timeout=10m --contimeout=60s

â“ VPSç¡¬ç›˜æ»¡äº†ï¼Ÿ
â†’ ç›´æ¥äº‘åˆ°äº‘ä¼ è¾“ï¼šrclone copy remote1:/ 115:/ --buffer-size=4M --max-buffer-memory=32M

===============================================
æµ‹è¯•å‘½ä»¤ï¼š
===============================================

# å…ˆæµ‹è¯•ä¸€ä¸ªå°æ–‡ä»¶
echo "test" > test.txt
rclone copy test.txt 115:test/ --buffer-size=4M --max-buffer-memory=32M --transfers=1 --checkers=1 -v

# æˆåŠŸåå†ä¸Šä¼ å¤§æ–‡ä»¶
rclone copy "ä½ çš„å¤§æ–‡ä»¶" 115:ç›®æ ‡æ–‡ä»¶å¤¹/ --buffer-size=4M --max-buffer-memory=32M --transfers=1 --checkers=1 -v

===============================================
æ€»ç»“ï¼š
===============================================

ä½ çš„VPSé…ç½®å¾ˆä½ï¼Œä½†è¿™ä¸ªé…ç½®åªç”¨32MBå†…å­˜ï¼Œå®Œå…¨å¤Ÿç”¨ï¼
å…³é”®æ˜¯è¦è®°ä½115ç½‘ç›˜ä¸æ”¯æŒå¤šçº¿ç¨‹ï¼Œæ‰€ä»¥ä¸“æ³¨äºå†…å­˜ä¼˜åŒ–å°±è¡Œã€‚

ğŸ‰ å¼€å§‹ä¸Šä¼ å§ï¼
