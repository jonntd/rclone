# 123ç½‘ç›˜å’Œ115ç½‘ç›˜åç«¯æ€§èƒ½ä¼˜åŒ–æŒ‡å—

## æ¦‚è¿°

123ç½‘ç›˜å’Œ115ç½‘ç›˜åç«¯éƒ½æœ‰è‡ªå·±çš„å¹¶å‘ä¼ è¾“æœºåˆ¶ï¼Œ**ä¸æ”¯æŒ rclone çš„ `--multi-thread-streams` åŠŸèƒ½**ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†ä¸¤ä¸ªåç«¯çš„æ€§èƒ½å‚æ•°é…ç½®å’Œä¼˜åŒ–å»ºè®®ã€‚

## ä¸ºä»€ä¹ˆä¸æ”¯æŒ --multi-thread-streamsï¼Ÿ

| åç«¯ | NoMultiThreading | OpenChunkWriter/OpenWriterAt | æ”¯æŒçŠ¶æ€ | åŸå›  |
|------|------------------|------------------------------|----------|------|
| **123** | âŒ false | âŒ æœªå®ç° | âŒ **ä¸æ”¯æŒ** | ä½¿ç”¨è‡ªæœ‰ v2MultiThreadUpload æœºåˆ¶ |
| **115** | âŒ true | âŒ æœªå®ç° | âŒ **ä¸æ”¯æŒ** | ä½¿ç”¨ OSS åˆ†ç‰‡ä¸Šä¼  + ç»Ÿä¸€å¹¶å‘ä¸‹è½½å™¨ |

ä¸¤ä¸ªåç«¯éƒ½é€‰æ‹©ä½¿ç”¨ä¸“é—¨é’ˆå¯¹å„è‡ª API ç‰¹ç‚¹ä¼˜åŒ–çš„å¹¶å‘æœºåˆ¶ï¼Œè€Œä¸æ˜¯ rclone çš„æ ‡å‡†å¤šçº¿ç¨‹ä¼ è¾“ã€‚

## 123ç½‘ç›˜åç«¯é…ç½®å‚æ•°

### åŸºç¡€è®¤è¯é…ç½®
```bash
# å¿…éœ€å‚æ•°
--123-client-id="your_client_id"           # 123ç½‘ç›˜APIå®¢æˆ·ç«¯ID
--123-client-secret="your_client_secret"   # 123ç½‘ç›˜APIå®¢æˆ·ç«¯å¯†é’¥
--123-token="oauth_token_json"             # OAuthè®¿é—®ä»¤ç‰Œï¼ˆé€šå¸¸ç•™ç©ºï¼‰
```

### å¹¶å‘æ§åˆ¶å‚æ•° âš¡
```bash
# ä¸Šä¼ å¹¶å‘æ§åˆ¶
--123-max-concurrent-uploads=8             # æœ€å¤§å¹¶å‘ä¸Šä¼ æ•°é‡ï¼ˆé»˜è®¤8ï¼‰
                                          # å‡å°‘æ­¤å€¼å¯é™ä½å†…å­˜ä½¿ç”¨å’Œæé«˜ç¨³å®šæ€§

# ä¸‹è½½å¹¶å‘æ§åˆ¶  
--123-max-concurrent-downloads=4          # æœ€å¤§å¹¶å‘ä¸‹è½½æ•°é‡ï¼ˆé»˜è®¤4ï¼‰
                                          # æé«˜æ­¤å€¼å¯æå‡ä¸‹è½½é€Ÿåº¦ï¼Œä½†ä¼šå¢åŠ å†…å­˜ä½¿ç”¨

# åˆ†ç‰‡å¤§å°æ§åˆ¶
--123-chunk-size=100M                     # åˆ†ç‰‡ä¸Šä¼ çš„åˆ†å—å¤§å°ï¼ˆé»˜è®¤100MBï¼‰
                                          # èŒƒå›´ï¼š50MB - 500MB

--123-upload-cutoff=100M                  # åˆ‡æ¢åˆ°åˆ†ç‰‡ä¸Šä¼ çš„é˜ˆå€¼ï¼ˆé»˜è®¤100MBï¼‰
                                          # å°äºæ­¤å¤§å°ä½¿ç”¨å•æ­¥ä¸Šä¼ 
```

### QPS æ§åˆ¶å‚æ•° ğŸ›ï¸
```bash
# é€šç”¨APIè°ƒé€Ÿ
--123-pacer-min-sleep=100ms               # é€šç”¨APIè°ƒç”¨é—´éš”ï¼ˆé»˜è®¤100msï¼Œ~10 QPSï¼‰

# ä¸“ç”¨APIè°ƒé€Ÿ
--123-upload-pacer-min-sleep=50ms         # ä¸Šä¼ APIè°ƒç”¨é—´éš”ï¼ˆé»˜è®¤50msï¼Œ~20 QPSï¼‰
--123-download-pacer-min-sleep=100ms      # ä¸‹è½½APIè°ƒç”¨é—´éš”ï¼ˆé»˜è®¤100msï¼‰
--123-strict-pacer-min-sleep=200ms        # ä¸¥æ ¼APIè°ƒç”¨é—´éš”ï¼ˆmove, deleteç­‰ï¼‰
```

### ç¼“å­˜ä¼˜åŒ–å‚æ•° ğŸ’¾
```bash
# ç¼“å­˜å¤§å°æ§åˆ¶
--123-cache-max-size=100M                 # æœ€å¤§ç¼“å­˜å¤§å°ï¼ˆé»˜è®¤100MBï¼‰
--123-cache-target-size=64M               # æ¸…ç†åç›®æ ‡å¤§å°ï¼ˆé»˜è®¤64MBï¼‰

# ç¼“å­˜ç­–ç•¥
--123-enable-smart-cleanup=false          # å¯ç”¨LRUæ™ºèƒ½æ¸…ç†ï¼ˆé»˜è®¤falseï¼‰
--123-cleanup-strategy="size"             # æ¸…ç†ç­–ç•¥ï¼šsize/lru/priority_lru/time
```

### é«˜çº§æ€§èƒ½å‚æ•° ğŸ”§
```bash
# æ–‡ä»¶æ“ä½œ
--123-list-chunk=100                      # åˆ—è¡¨è¯·æ±‚æ–‡ä»¶æ•°é‡ï¼ˆé»˜è®¤100ï¼‰
--123-max-upload-parts=1000               # æœ€å¤§ä¸Šä¼ åˆ†ç‰‡æ•°ï¼ˆé»˜è®¤1000ï¼‰

# ç½‘ç»œè¶…æ—¶
--123-conn-timeout=60s                    # è¿æ¥è¶…æ—¶ï¼ˆé»˜è®¤60ç§’ï¼‰
--123-timeout=300s                        # è¯·æ±‚è¶…æ—¶ï¼ˆé»˜è®¤300ç§’ï¼‰

# è¿›åº¦æ˜¾ç¤º
--123-enable-progress-display=true        # å¯ç”¨è¿›åº¦æ˜¾ç¤ºï¼ˆé»˜è®¤trueï¼‰
--123-progress-update-interval=5s         # è¿›åº¦æ›´æ–°é—´éš”ï¼ˆé»˜è®¤5ç§’ï¼‰
```

## 115ç½‘ç›˜åç«¯é…ç½®å‚æ•°

### åŸºç¡€è®¤è¯é…ç½®
```bash
# å¿…éœ€å‚æ•°
--115-cookie="UID=...; CID=...; SEID=...;" # ç™»å½•Cookieï¼ˆå¿…éœ€ï¼‰
--115-user-agent="Mozilla/5.0..."          # HTTPç”¨æˆ·ä»£ç†
--115-app-id="your_app_id"                 # è‡ªå®šä¹‰åº”ç”¨ID
```

### ä¸Šä¼ ç­–ç•¥å‚æ•° ğŸ“¤
```bash
# ä¸Šä¼ æ¨¡å¼é€‰æ‹©ï¼ˆäº’æ–¥é€‰é¡¹ï¼‰
--115-fast-upload=false                   # æ™ºèƒ½ä¸Šä¼ ç­–ç•¥ï¼ˆæ¨èï¼‰
--115-only-stream=false                   # ä»…ä½¿ç”¨æµå¼ä¸Šä¼ ï¼ˆâ‰¤5GBï¼‰
--115-upload-hash-only=false              # ä»…å°è¯•ç§’ä¼ 

# åˆ†ç‰‡ä¸Šä¼ æ§åˆ¶
--115-upload-cutoff=50M                   # åˆ†ç‰‡ä¸Šä¼ é˜ˆå€¼ï¼ˆé»˜è®¤50MBï¼‰
--115-chunk-size=20M                      # åˆ†ç‰‡å¤§å°ï¼ˆé»˜è®¤20MBï¼‰
--115-max-upload-parts=10000              # æœ€å¤§åˆ†ç‰‡æ•°ï¼ˆé»˜è®¤10000ï¼‰

# å“ˆå¸Œè®¡ç®—ä¼˜åŒ–
--115-hash-memory-limit=10M               # å†…å­˜å“ˆå¸Œè®¡ç®—é™åˆ¶ï¼ˆé»˜è®¤10MBï¼‰
--115-nohash-size=100M                    # å°æ–‡ä»¶æµå¼ä¸Šä¼ é˜ˆå€¼ï¼ˆé»˜è®¤100MBï¼‰
```

### QPS æ§åˆ¶å‚æ•° ğŸ›ï¸
```bash
# ç»Ÿä¸€QPSæ§åˆ¶ï¼ˆ115ç½‘ç›˜æ‰€æœ‰APIå…±äº«QPSé…é¢ï¼‰
--115-pacer-min-sleep=300ms               # APIè°ƒç”¨é—´éš”ï¼ˆé»˜è®¤300msï¼Œ~3.3 QPSï¼‰
                                          # 115ç½‘ç›˜æœ‰ä¸¥æ ¼çš„QPSé™åˆ¶ï¼Œå»ºè®®ä¿å®ˆè®¾ç½®
```

### ä¸‹è½½ä¼˜åŒ–å‚æ•° ğŸ“¥
```bash
# 115ç½‘ç›˜ä½¿ç”¨ç»Ÿä¸€å¹¶å‘ä¸‹è½½å™¨ï¼Œè‡ªåŠ¨ä¼˜åŒ–ä¸‹è½½æ€§èƒ½
# é…ç½®å‚æ•°ï¼š
# - æœ€å°æ–‡ä»¶å¤§å°ï¼š100MBï¼ˆå¯ç”¨å¹¶å‘ä¸‹è½½é—¨æ§›ï¼‰
# - æœ€å¤§å¹¶å‘æ•°ï¼š2çº¿ç¨‹ï¼ˆ115ç½‘ç›˜é™åˆ¶ï¼‰
# - é»˜è®¤åˆ†ç‰‡å¤§å°ï¼š100MB
# - è¶…æ—¶æ—¶é—´ï¼š120ç§’/åˆ†ç‰‡
```

### ç¼“å­˜ä¼˜åŒ–å‚æ•° ğŸ’¾
```bash
# ç¼“å­˜å¤§å°æ§åˆ¶
--115-cache-max-size=100M                 # æœ€å¤§ç¼“å­˜å¤§å°ï¼ˆé»˜è®¤100MBï¼‰
--115-cache-target-size=64M               # æ¸…ç†åç›®æ ‡å¤§å°ï¼ˆé»˜è®¤64MBï¼‰

# ç¼“å­˜ç­–ç•¥
--115-enable-smart-cleanup=false          # å¯ç”¨LRUæ™ºèƒ½æ¸…ç†ï¼ˆé»˜è®¤falseï¼‰
--115-cleanup-strategy="size"             # æ¸…ç†ç­–ç•¥ï¼šsize/lru/priority_lru/time
```

### é«˜çº§é€‰é¡¹ ğŸ”§
```bash
# OSSä¸Šä¼ ä¼˜åŒ–
--115-internal=false                      # ä½¿ç”¨å†…éƒ¨OSSç«¯ç‚¹
--115-dual-stack=false                    # ä½¿ç”¨åŒæ ˆOSSç«¯ç‚¹

# è°ƒè¯•é€‰é¡¹
--115-no-check=false                      # ç¦ç”¨ä¸Šä¼ åæ£€æŸ¥
--115-no-buffer=false                     # è·³è¿‡ç£ç›˜ç¼“å†²

# æ–‡ä»¶åˆ—è¡¨
--115-list-chunk=1150                     # åˆ—è¡¨åˆ†å—å¤§å°ï¼ˆé»˜è®¤1150ï¼‰
```

## æ€§èƒ½ä¼˜åŒ–å»ºè®® ğŸš€

### 123ç½‘ç›˜ä¼˜åŒ–ç­–ç•¥
1. **ä¸Šä¼ ä¼˜åŒ–**ï¼š
   - å¤§æ–‡ä»¶ï¼šå¢åŠ  `--123-max-concurrent-uploads` åˆ° 12-16
   - ç½‘ç»œå¥½ï¼šå‡å°‘ `--123-upload-pacer-min-sleep` åˆ° 25ms
   - å†…å­˜è¶³ï¼šå¢åŠ  `--123-chunk-size` åˆ° 200M

2. **ä¸‹è½½ä¼˜åŒ–**ï¼š
   - å¢åŠ  `--123-max-concurrent-downloads` åˆ° 8
   - ä½¿ç”¨ `--123-enable-smart-cleanup=true`

### 115ç½‘ç›˜ä¼˜åŒ–ç­–ç•¥
1. **ä¸Šä¼ ä¼˜åŒ–**ï¼š
   - å¯ç”¨ `--115-fast-upload=true` æ™ºèƒ½ç­–ç•¥
   - å¤§æ–‡ä»¶ï¼šå¢åŠ  `--115-chunk-size` åˆ° 50M
   - è°ƒæ•´ `--115-upload-cutoff` æ ¹æ®ç½‘ç»œæƒ…å†µ

2. **ä¸‹è½½ä¼˜åŒ–**ï¼š
   - 115ç½‘ç›˜è‡ªåŠ¨ä¼˜åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒæ•´
   - å¤§æ–‡ä»¶è‡ªåŠ¨å¯ç”¨2çº¿ç¨‹å¹¶å‘ä¸‹è½½

### é€šç”¨ä¼˜åŒ–å»ºè®®
1. **ç½‘ç»œè´¨é‡å·®**ï¼šå¢åŠ å„ç§ `pacer-min-sleep` å‚æ•°
2. **å†…å­˜å……è¶³**ï¼šå¢åŠ  `cache-max-size` å’Œ `chunk-size`
3. **CPUæ€§èƒ½å¥½**ï¼šå¯ç”¨ `enable-smart-cleanup=true`
4. **è°ƒè¯•é—®é¢˜**ï¼šä½¿ç”¨ `-vv` æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

## ç¤ºä¾‹é…ç½®

### é«˜æ€§èƒ½é…ç½®ï¼ˆç½‘ç»œå¥½ã€å†…å­˜è¶³ï¼‰
```bash
# 123ç½‘ç›˜é«˜æ€§èƒ½é…ç½®
rclone sync local: 123:remote \
  --123-max-concurrent-uploads=12 \
  --123-max-concurrent-downloads=8 \
  --123-chunk-size=200M \
  --123-upload-pacer-min-sleep=25ms \
  --123-cache-max-size=500M \
  --123-enable-smart-cleanup=true

# 115ç½‘ç›˜é«˜æ€§èƒ½é…ç½®  
rclone sync local: 115:remote \
  --115-fast-upload=true \
  --115-chunk-size=50M \
  --115-cache-max-size=500M \
  --115-enable-smart-cleanup=true
```

### ç¨³å®šæ€§ä¼˜å…ˆé…ç½®ï¼ˆç½‘ç»œå·®ã€å†…å­˜å°‘ï¼‰
```bash
# 123ç½‘ç›˜ç¨³å®šé…ç½®
rclone sync local: 123:remote \
  --123-max-concurrent-uploads=4 \
  --123-max-concurrent-downloads=2 \
  --123-chunk-size=50M \
  --123-upload-pacer-min-sleep=100ms \
  --123-cache-max-size=50M

# 115ç½‘ç›˜ç¨³å®šé…ç½®
rclone sync local: 115:remote \
  --115-only-stream=true \
  --115-chunk-size=20M \
  --115-pacer-min-sleep=500ms \
  --115-cache-max-size=50M
```

## æ³¨æ„äº‹é¡¹ âš ï¸

1. **QPSé™åˆ¶**ï¼šä¸¤ä¸ªç½‘ç›˜éƒ½æœ‰ä¸¥æ ¼çš„APIè°ƒç”¨é¢‘ç‡é™åˆ¶ï¼Œè¿‡å¿«ä¼šå¯¼è‡´429é”™è¯¯
2. **å†…å­˜ä½¿ç”¨**ï¼šå¹¶å‘æ•° Ã— åˆ†ç‰‡å¤§å° = å†…å­˜å ç”¨ï¼Œéœ€è¦åˆç†é…ç½®
3. **ç½‘ç»œç¨³å®šæ€§**ï¼šä¸ç¨³å®šç½‘ç»œå»ºè®®é™ä½å¹¶å‘æ•°å’Œåˆ†ç‰‡å¤§å°
4. **è´¦å·é™åˆ¶**ï¼šéƒ¨åˆ†å‚æ•°å¯èƒ½å—è´¦å·ç±»å‹é™åˆ¶ï¼ˆå¦‚VIP vs æ™®é€šç”¨æˆ·ï¼‰

## æ•…éšœæ’é™¤ ğŸ”§

### å¸¸è§é—®é¢˜
- **429é”™è¯¯**ï¼šå¢åŠ ç›¸åº”çš„ `pacer-min-sleep` å‚æ•°
- **å†…å­˜ä¸è¶³**ï¼šå‡å°‘å¹¶å‘æ•°æˆ–åˆ†ç‰‡å¤§å°
- **ä¸Šä¼ å¤±è´¥**ï¼šæ£€æŸ¥ç½‘ç»œç¨³å®šæ€§ï¼Œå°è¯•å‡å°‘å¹¶å‘
- **ä¸‹è½½æ…¢**ï¼šæ£€æŸ¥æ˜¯å¦å¯ç”¨äº†å¹¶å‘ä¸‹è½½ï¼ˆæ–‡ä»¶>100MBï¼‰

### è°ƒè¯•å‘½ä»¤
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
rclone -vv sync local: 123:remote

# æŸ¥çœ‹ä¼ è¾“ç»Ÿè®¡
rclone sync local: 123:remote --stats=1s

# æµ‹è¯•é…ç½®
rclone test memory local: 123:remote
```

## å‚æ•°å¯¹æ¯”è¡¨ ğŸ“Š

### å¹¶å‘æ§åˆ¶å¯¹æ¯”
| å‚æ•°ç±»å‹ | 123ç½‘ç›˜ | 115ç½‘ç›˜ | è¯´æ˜ |
|----------|---------|---------|------|
| ä¸Šä¼ å¹¶å‘ | `--123-max-concurrent-uploads=8` | è‡ªåŠ¨ä¼˜åŒ–ï¼ˆOSSåˆ†ç‰‡ï¼‰ | 123å¯è°ƒï¼Œ115è‡ªåŠ¨ |
| ä¸‹è½½å¹¶å‘ | `--123-max-concurrent-downloads=4` | è‡ªåŠ¨ä¼˜åŒ–ï¼ˆ2çº¿ç¨‹é™åˆ¶ï¼‰ | 123å¯è°ƒï¼Œ115å›ºå®š |
| åˆ†ç‰‡å¤§å° | `--123-chunk-size=100M` | `--115-chunk-size=20M` | 123æ›´å¤§åˆ†ç‰‡ |
| ä¸Šä¼ é˜ˆå€¼ | `--123-upload-cutoff=100M` | `--115-upload-cutoff=50M` | 123é˜ˆå€¼æ›´é«˜ |

### QPSæ§åˆ¶å¯¹æ¯”
| APIç±»å‹ | 123ç½‘ç›˜ | 115ç½‘ç›˜ | æ¨èå€¼ |
|---------|---------|---------|--------|
| é€šç”¨API | `--123-pacer-min-sleep=100ms` | `--115-pacer-min-sleep=300ms` | 115æ›´ä¿å®ˆ |
| ä¸Šä¼ API | `--123-upload-pacer-min-sleep=50ms` | ç»Ÿä¸€QPSæ§åˆ¶ | 123æœ‰ä¸“ç”¨æ§åˆ¶ |
| ä¸‹è½½API | `--123-download-pacer-min-sleep=100ms` | ç»Ÿä¸€QPSæ§åˆ¶ | 123æœ‰ä¸“ç”¨æ§åˆ¶ |
| ä¸¥æ ¼API | `--123-strict-pacer-min-sleep=200ms` | ç»Ÿä¸€QPSæ§åˆ¶ | 123æœ‰ä¸“ç”¨æ§åˆ¶ |

## é«˜çº§é…ç½®æŠ€å·§ ğŸ¯

### 123ç½‘ç›˜ä¸“ç”¨æŠ€å·§

#### 1. åŠ¨æ€å¹¶å‘è°ƒæ•´
```bash
# æ ¹æ®ç½‘ç»œè´¨é‡åŠ¨æ€è°ƒæ•´
# ç½‘ç»œå¥½æ—¶ï¼ˆå»¶è¿Ÿ<50msï¼‰
--123-max-concurrent-uploads=16 \
--123-upload-pacer-min-sleep=25ms

# ç½‘ç»œä¸€èˆ¬æ—¶ï¼ˆå»¶è¿Ÿ50-200msï¼‰
--123-max-concurrent-uploads=8 \
--123-upload-pacer-min-sleep=50ms

# ç½‘ç»œå·®æ—¶ï¼ˆå»¶è¿Ÿ>200msï¼‰
--123-max-concurrent-uploads=4 \
--123-upload-pacer-min-sleep=100ms
```

#### 2. å¤§æ–‡ä»¶ä¼˜åŒ–ç­–ç•¥
```bash
# è¶…å¤§æ–‡ä»¶ï¼ˆ>10GBï¼‰ä¼˜åŒ–
--123-chunk-size=500M \
--123-max-upload-parts=100 \
--123-upload-pacer-min-sleep=25ms \
--123-cache-max-size=1G
```

#### 3. æ‰¹é‡å°æ–‡ä»¶ä¼˜åŒ–
```bash
# å¤§é‡å°æ–‡ä»¶ä¼˜åŒ–
--123-upload-cutoff=50M \
--123-max-concurrent-uploads=20 \
--123-upload-pacer-min-sleep=25ms \
--123-list-chunk=200
```

### 115ç½‘ç›˜ä¸“ç”¨æŠ€å·§

#### 1. ä¸Šä¼ ç­–ç•¥é€‰æ‹©
```bash
# ç­–ç•¥1ï¼šæ™ºèƒ½ä¸Šä¼ ï¼ˆæ¨èï¼‰
--115-fast-upload=true \
--115-nohash-size=100M \
--115-upload-cutoff=50M

# ç­–ç•¥2ï¼šçº¯ç§’ä¼ æ¨¡å¼
--115-upload-hash-only=true \
--115-hash-memory-limit=50M

# ç­–ç•¥3ï¼šçº¯æµå¼ä¸Šä¼ 
--115-only-stream=true \
--115-nohash-size=5G
```

#### 2. OSSä¼˜åŒ–é…ç½®
```bash
# å†…ç½‘ç¯å¢ƒä¼˜åŒ–
--115-internal=true \
--115-dual-stack=false \
--115-chunk-size=100M

# å…¬ç½‘ç¯å¢ƒä¼˜åŒ–
--115-internal=false \
--115-dual-stack=true \
--115-chunk-size=50M
```

#### 3. å“ˆå¸Œè®¡ç®—ä¼˜åŒ–
```bash
# å†…å­˜å……è¶³æ—¶
--115-hash-memory-limit=100M \
--115-no-buffer=false

# å†…å­˜ç´§å¼ æ—¶
--115-hash-memory-limit=10M \
--115-no-buffer=true
```

## ç›‘æ§å’Œè°ƒè¯• ğŸ”

### æ€§èƒ½ç›‘æ§å‘½ä»¤
```bash
# å®æ—¶ç›‘æ§ä¼ è¾“çŠ¶æ€
rclone sync local: 123:remote \
  --stats=1s \
  --stats-one-line \
  --progress

# è¯¦ç»†è°ƒè¯•ä¿¡æ¯
rclone -vv sync local: 123:remote \
  --dump=headers \
  --dump=bodies

# ç½‘ç»œè´¨é‡æµ‹è¯•
rclone test memory local: 123:remote \
  --size=100M \
  --transfers=4
```

### æ—¥å¿—åˆ†æå…³é”®è¯
```bash
# 123ç½‘ç›˜å…³é”®æ—¥å¿—
grep "123ç½‘ç›˜" rclone.log | grep -E "(å¹¶å‘|åˆ†ç‰‡|QPS|é™åˆ¶)"

# 115ç½‘ç›˜å…³é”®æ—¥å¿—
grep "115ç½‘ç›˜" rclone.log | grep -E "(OSS|åˆ†ç‰‡|QPS|770004)"

# æ€§èƒ½ç›¸å…³æ—¥å¿—
grep -E "(multi-thread|concurrent|chunk|pacer)" rclone.log
```

### å¸¸è§é”™è¯¯ç 
| é”™è¯¯ç  | åç«¯ | å«ä¹‰ | è§£å†³æ–¹æ¡ˆ |
|--------|------|------|----------|
| 429 | 123/115 | APIè°ƒç”¨è¿‡é¢‘ | å¢åŠ  pacer-min-sleep |
| 770004 | 115 | QPSé™åˆ¶ | å¢åŠ  pacer-min-sleep |
| 403 | 115 | ä¸‹è½½æƒé™ | è‡ªåŠ¨é™çº§åˆ°æ™®é€šä¸‹è½½ |
| 500 | 123 | æœåŠ¡å™¨é”™è¯¯ | é‡è¯•æˆ–é™ä½å¹¶å‘ |

## æœ€ä½³å®è·µæ€»ç»“ âœ…

### é…ç½®åŸåˆ™
1. **ä¿å®ˆèµ·æ­¥**ï¼šä»é»˜è®¤é…ç½®å¼€å§‹ï¼Œé€æ­¥ä¼˜åŒ–
2. **ç›‘æ§è°ƒæ•´**ï¼šè§‚å¯Ÿé”™è¯¯ç‡å’Œä¼ è¾“é€Ÿåº¦ï¼ŒåŠ¨æ€è°ƒæ•´
3. **åˆ†åœºæ™¯é…ç½®**ï¼šä¸åŒç½‘ç»œç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®
4. **å®šæœŸæ£€æŸ¥**ï¼šç½‘ç›˜APIå¯èƒ½å˜åŒ–ï¼Œéœ€è¦è°ƒæ•´å‚æ•°

### æ¨èé…ç½®æ¨¡æ¿

#### æ—¥å¸¸ä½¿ç”¨é…ç½®
```bash
# ~/.config/rclone/rclone.conf
[123-daily]
type = 123
client_id = your_id
client_secret = your_secret
max_concurrent_uploads = 8
max_concurrent_downloads = 4
chunk_size = 100M
upload_pacer_min_sleep = 50ms

[115-daily]
type = 115
cookie = your_cookie
fast_upload = true
chunk_size = 20M
pacer_min_sleep = 300ms
```

#### é«˜æ€§èƒ½é…ç½®
```bash
[123-performance]
type = 123
client_id = your_id
client_secret = your_secret
max_concurrent_uploads = 16
max_concurrent_downloads = 8
chunk_size = 200M
upload_pacer_min_sleep = 25ms
cache_max_size = 500M
enable_smart_cleanup = true

[115-performance]
type = 115
cookie = your_cookie
fast_upload = true
chunk_size = 50M
pacer_min_sleep = 200ms
cache_max_size = 500M
enable_smart_cleanup = true
```

## ç‰ˆæœ¬å…¼å®¹æ€§ ğŸ“‹

### æ”¯æŒçš„ rclone ç‰ˆæœ¬
- **æœ€ä½ç‰ˆæœ¬**ï¼šrclone v1.60+
- **æ¨èç‰ˆæœ¬**ï¼šrclone v1.65+
- **æµ‹è¯•ç‰ˆæœ¬**ï¼šåŸºäºæœ€æ–°å¼€å‘ç‰ˆæœ¬

### åŠŸèƒ½æ”¯æŒçŸ©é˜µ
| åŠŸèƒ½ | 123ç½‘ç›˜ | 115ç½‘ç›˜ | å¤‡æ³¨ |
|------|---------|---------|------|
| åŸºç¡€ä¸Šä¼ ä¸‹è½½ | âœ… | âœ… | å®Œå…¨æ”¯æŒ |
| å¹¶å‘ä¼ è¾“ | âœ… | âœ… | è‡ªæœ‰å®ç° |
| æ–­ç‚¹ç»­ä¼  | âœ… | âœ… | åˆ†ç‰‡çº§åˆ« |
| ç§’ä¼ åŠŸèƒ½ | âœ… | âœ… | éƒ½æ”¯æŒMD5/SHA1å“ˆå¸Œç§’ä¼  |
| ç›®å½•åŒæ­¥ | âœ… | âœ… | å®Œå…¨æ”¯æŒ |
| å…ƒæ•°æ®ä¿æŒ | éƒ¨åˆ† | éƒ¨åˆ† | æ—¶é—´æˆ³æ”¯æŒæœ‰é™ |
| rclone mount | âœ… | âœ… | æ”¯æŒVFS |
| rclone serve | âœ… | âœ… | HTTP/WebDAV |

## Backend Commands ğŸ”§

ä¸¤ä¸ªåç«¯éƒ½æ”¯æŒä¸“ç”¨çš„ backend å‘½ä»¤ï¼Œç”¨äºé«˜çº§ç®¡ç†å’Œè°ƒè¯•ã€‚

### 123ç½‘ç›˜ Backend Commands

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
rclone backend help 123:

# é€šè¿‡æ–‡ä»¶è·¯å¾„è·å–ä¸‹è½½URL
rclone backend getdownloadurlua 123: "/path/to/file" "VidHub/1.7.24"

# æ‰‹åŠ¨è§¦å‘ç¼“å­˜æ¸…ç†
rclone backend cache-cleanup 123: --strategy=lru

# æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
rclone backend cache-stats 123:

# æŸ¥çœ‹å½“å‰ç¼“å­˜é…ç½®
rclone backend cache-config 123:

# é‡ç½®ç¼“å­˜é…ç½®ä¸ºé»˜è®¤å€¼
rclone backend cache-reset 123:
```

### 115ç½‘ç›˜ Backend Commands

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
rclone backend help 115:

# é€šè¿‡æ–‡ä»¶è·¯å¾„è·å–ä¸‹è½½URLï¼ˆæ”¯æŒUser-Agentï¼‰
rclone backend getdownloadurlua 115: "/path/to/file" "VidHub/1.7.24"

# æ‰‹åŠ¨è§¦å‘ç¼“å­˜æ¸…ç†
rclone backend cache-cleanup 115: --strategy=lru

# æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
rclone backend cache-stats 115:

# æŸ¥çœ‹å½“å‰ç¼“å­˜é…ç½®
rclone backend cache-config 115:

# é‡ç½®ç¼“å­˜é…ç½®ä¸ºé»˜è®¤å€¼
rclone backend cache-reset 115:
```

### Backend Commands ä½¿ç”¨åœºæ™¯

1. **æ€§èƒ½è°ƒè¯•**ï¼šä½¿ç”¨ `cache-stats` æŸ¥çœ‹ç¼“å­˜å‘½ä¸­ç‡
2. **å­˜å‚¨ç®¡ç†**ï¼šä½¿ç”¨ `cache-cleanup` é‡Šæ”¾ç¼“å­˜ç©ºé—´
3. **é…ç½®é‡ç½®**ï¼šä½¿ç”¨ `cache-reset` æ¢å¤é»˜è®¤è®¾ç½®
4. **ä¸‹è½½ä¼˜åŒ–**ï¼šä½¿ç”¨ `getdownloadurlua` è·å–ç›´é“¾

## ç§’ä¼ åŠŸèƒ½è¯¦è§£ âš¡

### 123ç½‘ç›˜ç§’ä¼ æœºåˆ¶
- **è§¦å‘æ¡ä»¶**ï¼šæ–‡ä»¶MD5å·²å­˜åœ¨äºæœåŠ¡å™¨
- **æ£€æµ‹æ—¶æœº**ï¼šæ¯æ¬¡ä¸Šä¼ å‰è‡ªåŠ¨æ£€æµ‹
- **æ”¯æŒæ ¼å¼**ï¼šæ‰€æœ‰æ–‡ä»¶ç±»å‹
- **æ€§èƒ½ä¼˜åŠ¿**ï¼šè·³è¿‡å®é™…ä¼ è¾“ï¼Œç¬é—´å®Œæˆ
- **å®ç°æ–¹å¼**ï¼šé€šè¿‡ `checkInstantUpload` å‡½æ•°æ£€æµ‹

```bash
# 123ç½‘ç›˜ç§’ä¼ ç¤ºä¾‹æ—¥å¿—
INFO  : âš¡ æ£€æŸ¥123ç½‘ç›˜ç§’ä¼ åŠŸèƒ½...
INFO  : ğŸ‰ ç§’ä¼ æˆåŠŸï¼æ–‡ä»¶å¤§å°: 100M, MD5: abc123...
INFO  : âš¡ 123ç½‘ç›˜ç§’ä¼ æˆåŠŸ: 100M, æ€»ç”¨æ—¶: 2s (ä¸‹è½½: 1s, MD5: 1s)
```

**é‡è¦æç¤º**ï¼š123ç½‘ç›˜çš„ç§’ä¼ åŠŸèƒ½æ˜¯è‡ªåŠ¨å¯ç”¨çš„ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚æ¯æ¬¡ä¸Šä¼ æ—¶éƒ½ä¼šå…ˆè®¡ç®—MD5å¹¶æ£€æŸ¥æ˜¯å¦å¯ä»¥ç§’ä¼ ã€‚

### 115ç½‘ç›˜ç§’ä¼ æœºåˆ¶
- **è§¦å‘æ¡ä»¶**ï¼šæ–‡ä»¶SHA1å·²å­˜åœ¨äºæœåŠ¡å™¨
- **æ£€æµ‹æ—¶æœº**ï¼šå¯ç”¨ `--115-fast-upload` æ—¶è‡ªåŠ¨æ£€æµ‹
- **æ”¯æŒæ ¼å¼**ï¼šæ‰€æœ‰æ–‡ä»¶ç±»å‹
- **æ€§èƒ½ä¼˜åŠ¿**ï¼šé¿å…é‡å¤ä¸Šä¼ ç›¸åŒå†…å®¹

```bash
# 115ç½‘ç›˜ç§’ä¼ é…ç½®
--115-fast-upload=true          # å¯ç”¨æ™ºèƒ½ä¸Šä¼ ï¼ˆåŒ…å«ç§’ä¼ ï¼‰
--115-upload-hash-only=true     # ä»…å°è¯•ç§’ä¼ æ¨¡å¼
```

---

**æ³¨æ„**ï¼šæœ¬æ–‡æ¡£åŸºäºå½“å‰ä»£ç ç‰ˆæœ¬ç¼–å†™ï¼Œå®é™…å‚æ•°å¯èƒ½éšç‰ˆæœ¬æ›´æ–°è€Œå˜åŒ–ã€‚å»ºè®®ä½¿ç”¨ `rclone help backend 123` å’Œ `rclone help backend 115` æŸ¥çœ‹æœ€æ–°å‚æ•°è¯´æ˜ã€‚
